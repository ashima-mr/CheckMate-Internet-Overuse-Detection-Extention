<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CheckMate - Internet Overuse Detection</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">üîç</div>
                <h1 class="title">CheckMate</h1>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span class="status-text">Active</span>
            </div>
        </header>

        <!-- Status Section -->
        <section class="status-section">
            <h2>Current Session</h2>
            <div class="session-stats">
                <div class="stat-item">
                    <span class="stat-label">Duration</span>
                    <span class="stat-value" id="sessionDuration">--</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Websites</span>
                    <span class="stat-value" id="websiteCount">--</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Activity</span>
                    <span class="stat-value" id="activityLevel">--</span>
                </div>
            </div>

            <!-- Usage Health Indicator -->
            <div class="usage-indicator">
                <span class="usage-label" id="usageLabel">Real-time Usage Health Indicator</span>
                <div class="usage-bar">
                    <div class="usage-fill" id="usageFill"></div>
                </div>
                <div class="usage-scale">
                    <span>Healthy</span>
                    <span>Moderate</span>
                    <span>Concerning</span>
                </div>
            </div>
        </section>

        <!-- ML Insights Section -->
        <section class="insights-section">
            <h2>AI Analysis</h2>
            <div class="insight-grid">
                <div class="insight-item">
                    <span class="insight-label">Activity matches typical overuse patterns by</span>
                    <span class="insight-value" id="patternScore">--</span>
                </div>
                <div class="insight-item">
                    <span class="insight-label">AI Assessment Confidence</span>
                    <span class="insight-value" id="confidenceScore">--</span>
                </div>
            </div>

            <!-- Session Feedback Section (hidden by default) -->
            <div id="sessionFeedbackSection" class="feedback-section" style="display: none;">
                <div class="feedback-question">
                    <p>How would you classify your current session?</p>
                </div>
                <div class="feedback-buttons">
                    <button id="feedbackProductive" class="btn-feedback btn-correct">‚úÖ Productive</button>
                    <button id="feedbackUnproductive" class="btn-feedback">üòê Unproductive</button>
                    <button id="feedbackUnhealthy" class="btn-feedback btn-incorrect">‚ö†Ô∏è Unhealthy</button>
                </div>
            </div>
        </section>

        <!-- Controls Section -->
        <section class="controls-section">
            <div class="setting-item">
                <span class="setting-label">Enable Monitoring</span>
                <label class="switch">
                    <input type="checkbox" id="enableMonitoring" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <span class="setting-label">Enable Notifications</span>
                <label class="switch">
                    <input type="checkbox" id="enableNotifications" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <div class="sensitivity-control">
                <span class="setting-label">Detection Sensitivity</span>
                <input type="range" id="sensitivitySlider" class="sensitivity-slider" 
                       min="0.1" max="1.0" step="0.1" value="0.5">
                <div class="sensitivity-labels">
                    <span>Low</span>
                    <span>High</span>
                </div>
            </div>
        </section>

        <!-- Actions Section -->
        <section class="actions-section">
            <div class="action-row">
                <button id="viewStatsBtn" class="btn btn-primary">
                    üìä View Detailed Stats
                </button>
                <button id="manageWebsitesBtn" class="btn btn-secondary">
                    üîó Manage Websites
                </button>
            </div>

            <div class="action-row">
                <button id="pauseBtn" class="btn btn-secondary">
                    ‚è∏Ô∏è Pause
                </button>
                <button id="takeBreakBtn" class="btn btn-primary">
                    ‚òï Take Break
                </button>
            </div>

            <!-- Privacy Controls -->
            <div class="privacy-controls">
                <button id="downloadDataBtn" class="btn btn-secondary">
                    üíæ Download Data
                </button>
                <button id="deleteDataBtn" class="btn btn-danger">
                    üóëÔ∏è Delete All Data
                </button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="last-update">
                Last update: <span id="lastUpdate">--</span>
            </div>
        </footer>
    </div>

    <script src="feedback-manager.js"></script>
    <script src="popup.js"></script>
</body>
</html>